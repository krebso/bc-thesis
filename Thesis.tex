\documentclass{mimosis}

\usepackage{metalogo}
\usepackage{xargs} % Use more than one optional parameter in a new commands
\usepackage{indentfirst}

\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}

\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#2]{#1}}
%

\usepackage{float}
\usepackage{geometry}
\usepackage{babel}
\usepackage{booktabs}
\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}

\graphicspath{ {./img/} }

\newcommand{\alphabet}{%
  abcdefghijklmnopqrstuvwxyz%
}
\newlength{\textW}
\setlength{\textW}{\widthof{\alphabet}* \real{2.7}} % 2.5
\geometry{textwidth=\textW,}
\newcommand{\myref}[2]{\hyperref[#2]{#1~\ref*{#2}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Some of my favorite personal adjustments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% These are the adjustments that I consider necessary for typesetting
% a nice thesis. However, they are *not* included in the template, as
% I do not want to force you to use them.

% This ensures that I am able to typeset bold font in table while still aligning the numbers
% correctly.
\usepackage{etoolbox}
\usepackage{listings}

\usepackage{siunitx}

\sisetup{%
  detect-all           = true,
  detect-family        = true,
  detect-mode          = true,
  detect-shape         = true,
  detect-weight        = true,
  % detect-inline-weight = math,
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hyperlinks & bookmarks
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[%
  colorlinks = true,
  citecolor  = RoyalBlue,
  linkcolor  = RoyalBlue,
  urlcolor   = RoyalBlue,
  unicode,
  ]{hyperref}


\newcommand{\smallquote}[1]{
    \begin{center}
        \begin{minipage}{0.5\textwidth}
            \begin{small}
                #1
            \end{small}
        \end{minipage}
        \vspace{0.5cm}
    \end{center}
}

\usepackage{bookmark}

\usepackage[all]{nowidow}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% I like the bibliography to be extremely plain, showing only a numeric
% identifier and citing everything in simple brackets. The first names,
% if present, will be initialized. DOIs and URLs will be preserved.

\usepackage[%
  autocite     = plain,
  backend      = biber,
  doi          = true,
  url          = true,
  giveninits   = true,
  hyperref     = true,
  maxbibnames  = 99,
  maxcitenames = 99,
  sortcites    = true,
  style        = iso-numeric,
  ]{biblatex}
\usepackage{xurl}

\input{bibliography-mimosis}
\addbibresource{Thesis.bib}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifxetexorluatex
  % \setmainfont{Minion Pro}
  %  \setmainfont{Baskerville}
    \setmainfont{Palatino}
    \setsansfont{Palatino}
    \setmonofont{Source Code Pro}
\else
  \usepackage[lf]{ebgaramond}
  \usepackage[oldstyle,scale=0.75]{sourcecodepro}
  \singlespacing
\fi

\renewcommand{\th}{\textsuperscript{\textup{th}}\xspace}

\newacronym{AI}{AI}{Artificial Intellingence}
\newacronym{CAM}{CAM}{Class Activation Map}
\newacronym{DL}{DL}{Deep Learning}
\newacronym{ML}{ML}{Machine Learning}
\newacronym{GAP}{GAP}{Global Average Pooling}
\newacronym{GMP}{GMP}{Global Max Pooling}
\newacronym{LRP}{LRP}{Layer-Wise Relevance Propagation}
\newacronym{XAI}{XAI}{Explainable Artificial Intelligence}
\newacronym{CNN}{CNN}{Convolutional Neural Network}
\newacronym{NN}{NN}{Neural Network}
\newacronym{WSI}{WSI}{Whole Slide Image}
\newacronym{FC}{FC}{Fully Connected}
\newacronym{GPU}{GPU}{Graphics Processing Unit}
\newacronym{RAM}{RAM}{Random-Access Memory}
\newacronym{ROAR}{ROAR}{Remove and Retrain}
\newacronym{ROAD}{ROAD}{Remove and Debias}


\usepackage{textcomp}
\usepackage{tikz}
\usepackage[framemethod=TikZ]{mdframed} % Use TikZ for framing
\usepackage{xcolor}

\usepackage{caption}
\captionsetup{format=plain, width=0.85\textwidth, labelfont=bf}

\usepackage{svg}

\newmdenv[
  topline=false,
  bottomline=false,
  skipabove=\topsep,
  skipbelow=\topsep,
  innerleftmargin=10pt,
  innerrightmargin=10pt,
  leftline=true, % Enable the left line
  rightline=true, % Enable the right line
  linewidth=2pt, % Thickness of the lines
  linecolor=RoyalBlue, % Color of the lines
]{doublebar}


\makeindex
\makeglossaries

\setlength{\parindent}{0pt} % Removes the paragraph indentation
\setlength{\parskip}{6pt} % Replace 10pt with the desired space

\DeclareMathOperator{\relu}{ReLU}

\hyphenation{RationAI}
\hyphenation{pseu-do-nym-ized}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Incipit
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Interpretation Techniques for Deep Neural Networks in Digital Histopathology}
\author{Martin Krebs}

% This ensures that the subsequent sections are being included as root
% items in the bookmark structure of your PDF reader.
\begin{document}
\frontmatter
    \include{Sources/Title}
    \include{Sources/Declaration}
    \include{Sources/Acknowledgements}
    \include{Sources/Abstract}
    
    % \tableofcontents
    {\small\tableofcontents}
    % \listoffigures
    \glsaddall
    \printglossary[type=\acronymtype]

    \include{Sources/Introduction}

\mainmatter
  \include{Sources/DL-in-histo}
  \include{Sources/RationAI}
  \include{Sources/XAI}
  \include{Sources/Experiment}

  \bookmarksetup{startatroot}

  \include{Sources/Conclusion}
  \include{Sources/Appendix}
  \backmatter
  \printindex
  \begingroup
  \sloppy
  \printbibliography
\endgroup


\end{document}
